<odoo>
	<data>
		<record id="view_product_temolate_inherit_odoo" model="ir.ui.view">
			<field name="name">product.template.product.form</field>
        	<field name="model">product.template</field>
			<field name="inherit_id" ref="product.product_template_only_form_view" />
			<field name="arch" type="xml">
            	<xpath expr="//notebook" position="inside">
	                <page string="Budgeting Tab" name="budget_info">
						<separator string="Fixed Reduction"/>
						<field name="product_fixed_budget_line" widget="section_and_note_one2many" mode="tree">
						<tree string="Fixed Budget" editable="bottom">
                                <field name="product_id" attrs="{'readonly': [('name', '!=', False)],}" options="{'no_edit': True, 'no_create': True}"/>
                                <field name="name" attrs="{'readonly': [('product_id', '!=', False)],}"/>
                                <field name="bucket_type_id" domain="[('is_vendor', '=', True)]" options="{'no_edit': True, 'no_create': True}" required="1"/>
                                <!--<field name="bucket_user" invisible="1"/>-->
                                <field name="is_vendor" invisible="1"/>
                                <field name="assignable_status" required="1"/>
<!--                                <field name="prod_fix_vendor_ids"  attrs="{'readonly': ['|',('bucket_user', '!=', 'vendor'),('assignable_status', 'in', ('unassigned','assignable_at_inv'))],}" options="{'no_edit': True, 'no_create': True}" widget="many2many_tags"/>-->
                                <field name="prod_fix_vendor_id"  domain="[('supplier_rank', '>', 0)]" attrs="{'readonly': ['|',('is_vendor', '!=', True),('assignable_status', 'in', ('unassigned','assignable_at_inv'))],'required':[('is_vendor', '=', True),('assignable_status','=','assigned')]}" options="{'no_edit': True, 'no_create': True}" force_save="1"/>
                                <field name="prod_fix_assigned_user_id"  invisible="1" options="{'no_edit': True, 'no_create': True}" force_save="1"/>
                                <!--<field name="prod_fix_assigned_user_id" attrs="{'readonly': ['|',('is_vendor', '=', True),('assignable_status', 'in', ('unassigned','assignable_at_inv'))],'required':[('is_vendor', '=', False),('assignable_status','=','assigned')]}" options="{'no_edit': True, 'no_create': True}" force_save="1"/>-->
                                <field name="prod_priority" />
                                <field name="amount"  attrs="{'readonly': [('product_id', '!=', False)]}" force_save="1" sum='total'/>
                                
                                    
                            </tree>
                        </field>
                        <label for="remaining_allocation_temp" string="Remaining Allocation Template"/>
                        <field name="remaining_allocation_temp"/>
                        <separator string="Remaining % Allocation"/>
                        
                        <field name="product_allocate_budget_line" widget="section_and_note_one2many" mode="tree" readonly="1" force_save="1">
						<tree string="Allocate Budget" editable="bottom">
                                <field name="product_id" invisible="1" attrs="{'readonly': [('name', '!=', False)],}" options="{'no_edit': True, 'no_create': True}"/>
                                <field name="name" invisible="1" attrs="{'readonly': [('product_id', '!=', False)],}"/>
                                <field name="bucket_type_id" options="{'no_edit': True, 'no_create': True}" required="1"/>
                                <!--<field name="bucket_user" invisible="1"/>-->
                                <field name="is_vendor" invisible="1"/>
                                <field name="assignable_status" required="1"/>
                                <field name="prod_remaining_budget_vendor_id" domain="[('supplier_rank', '>', 0)]" invisible="1" options="{'no_edit': True, 'no_create': True}" force_save="1"/>
                                <!--<field name="prod_remaining_budget_vendor_id" domain="[('supplier_rank', '>', 0)]" attrs="{'readonly': ['|',('is_vendor', '!=', True),('assignable_status', 'in', ('unassigned','assignable_at_inv'))],'required':[('is_vendor', '=', True),('assignable_status','=','assigned')]}" options="{'no_edit': True, 'no_create': True}" force_save="1"/>-->
<!--                                <field name="prod_remaining_budget_assigned_user_ids" attrs="{'readonly': ['|',('bucket_user', '=', 'vendor'),('assignable_status', 'in', ('unassigned','assignable_at_inv'))],}" options="{'no_edit': True, 'no_create': True}" widget="many2many_tags"/>-->
                                <field name="prod_remaining_budget_assigned_user_id" attrs="{'readonly': ['|',('is_vendor', '=', True),('assignable_status', 'in', ('unassigned','assignable_at_inv'))],'required':[('is_vendor', '=', False),('assignable_status','=','assigned')]}" options="{'no_edit': True, 'no_create': True}" force_save="1"/>
                                <field name="allocate_percent" />
                                <field name="amount"  attrs="{'readonly': [('product_id', '!=', False)]}" force_save="1" sum='total'/>
                                <!--<field name="amount" readonly="1" />-->
                                

                            </tree>
                        </field>
	                </page>
            </xpath>
			</field>
		</record>

        <record id="product_budget_template_tree_view" model="ir.ui.view">
        <field name="name">product.template.product.budget.tree.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="arch" type="xml">
            <field name="standard_price" position="after">
                <field name="fixed_amount" readonly="1" force_save="1" optional="show" decoration-danger="fixed_amount &lt; 0" decoration-bf="1"/>
            </field>
            <field name="responsible_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            
            <field name="product_tag_ids" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            
            <!--<xpath expr="//tree" position="attributes">
                <attribute name="default_order">fixed_amount desc</attribute>
            </xpath>-->

        </field>
    </record>
	</data>
</odoo>